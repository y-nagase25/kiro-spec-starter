# 実装計画

- [x] 1. Next.jsプロジェクトのセットアップとshadcn/uiの初期設定
  - Next.js 14プロジェクトを作成（App Router、TypeScript、Tailwind CSS有効化）
  - shadcn/uiを初期化し、必要なコンポーネント（Button、Input、Checkbox、Card）をインストール
  - プロジェクト構造を設定（src/app、src/components、src/types、src/hooksディレクトリ）
  - _要件: 全体_

- [x] 2. 型定義とカスタムフックの実装
- [x] 2.1 Todo型定義を作成
  - src/types/todo.tsファイルを作成
  - Todo型インターフェース（id、title、completed、createdAt）を定義
  - _要件: 全体_

- [x] 2.2 useTodosカスタムフックを実装
  - src/hooks/useTodos.tsファイルを作成
  - ローカルストレージからのデータ読み込み機能を実装（useEffect）
  - addTodo、toggleTodo、deleteTodo、updateTodo関数を実装
  - 状態変更時のローカルストレージ同期を実装
  - _要件: 1.1, 1.2, 1.3, 3.1, 3.2, 3.3, 4.1, 4.2, 5.2, 5.3, 5.4, 6.1, 6.2, 6.3_

- [ ]* 2.3 useTodosフックの単体テストを作成
  - タスクの追加、更新、削除、完了切り替えの動作をテスト
  - ローカルストレージの保存と読み込みをテスト
  - _要件: 1.1, 3.1, 4.1, 5.2, 6.1, 6.2, 6.3_

- [x] 3. TodoFormコンポーネントの実装
- [x] 3.1 TodoFormコンポーネントを作成
  - src/components/TodoForm.tsxファイルを作成
  - shadcn/uiのInputとButtonコンポーネントを使用
  - フォーム送信時の入力バリデーション（空文字チェック）を実装
  - タスク作成後の入力フィールドクリア機能を実装
  - _要件: 1.1, 1.2, 1.3_

- [ ]* 3.2 TodoFormコンポーネントのテストを作成
  - 入力バリデーションのテスト
  - フォーム送信後のクリア動作をテスト
  - _要件: 1.2, 1.3_

- [x] 4. TodoItemコンポーネントの実装
- [x] 4.1 TodoItemコンポーネントを作成
  - src/components/TodoItem.tsxファイルを作成
  - shadcn/uiのCheckbox、Input、Buttonコンポーネントを使用
  - タスクの表示（タイトル、完了状態）を実装
  - 完了状態の切り替え機能を実装
  - 削除ボタンを実装
  - _要件: 2.2, 3.1, 3.2, 3.3, 4.1, 4.2_

- [x] 4.2 編集機能を実装
  - ダブルクリックで編集モードに切り替える機能を実装
  - Enterキーで編集を確定する機能を実装
  - Escキーで編集をキャンセルする機能を実装
  - 空文字列への更新を防止するバリデーションを実装
  - _要件: 5.1, 5.2, 5.3, 5.4_

- [x] 4.3 完了済みタスクのスタイリングを実装
  - 完了済みタスクに取り消し線と薄いグレー色を適用
  - _要件: 3.2_

- [ ]* 4.4 TodoItemコンポーネントのテストを作成
  - 編集モード切り替えのテスト
  - キーボード操作（Enter、Esc）のテスト
  - _要件: 5.1, 5.2, 5.4_

- [ ] 5. TodoListコンポーネントの実装
- [ ] 5.1 TodoListコンポーネントを作成
  - src/components/TodoList.tsxファイルを作成（'use client'ディレクティブ）
  - useTodosフックを統合
  - TodoFormとTodoItemコンポーネントを配置
  - タスクリストのレンダリングを実装
  - _要件: 2.1, 2.2_

- [ ] 5.2 空リスト時のメッセージ表示を実装
  - タスクが0件の場合に適切なメッセージを表示
  - _要件: 2.3_

- [ ]* 5.3 TodoListコンポーネントのテストを作成
  - 空リスト時の表示をテスト
  - _要件: 2.3_

- [ ] 6. メインページとレイアウトの実装
- [ ] 6.1 ルートレイアウトを設定
  - src/app/layout.tsxを更新
  - グローバルスタイル（Tailwind CSS）を適用
  - メタデータ（タイトル、説明）を設定
  - _要件: 全体_

- [ ] 6.2 メインページを実装
  - src/app/page.tsxを作成
  - TodoListコンポーネントを配置
  - 中央寄せレイアウト（最大幅800px）を実装
  - _要件: 全体_

- [ ]* 7. エンドツーエンドテストの作成
  - タスクの作成から削除までの一連の操作をテスト
  - ページリロード後のデータ永続化をテスト
  - _要件: 1.1, 3.1, 4.1, 5.2, 6.1, 6.2, 6.3_
